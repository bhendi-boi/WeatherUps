import { useEffect, useState } from "react";
export const FAKERES = {
	latitude: 13,
	longitude: 80.125,
	generationtime_ms: 1.5870332717895508,
	utc_offset_seconds: 18000,
	timezone: "Asia/Kolkata",
	timezone_abbreviation: "IST",
	elevation: 20,
	current_weather: {
		temperature: 24.4,
		windspeed: 4.3,
		winddirection: 42,
		weathercode: 1,
		time: 1674745200,
	},
	hourly_units: {
		time: "unixtime",
		temperature_2m: "°C",
		apparent_temperature: "°C",
		weathercode: "wmo code",
	},
	hourly: {
		time: [
			1674673200, 1674676800, 1674680400, 1674684000, 1674687600, 1674691200,
			1674694800, 1674698400, 1674702000, 1674705600, 1674709200, 1674712800,
			1674716400, 1674720000, 1674723600, 1674727200, 1674730800, 1674734400,
			1674738000, 1674741600, 1674745200, 1674748800, 1674752400, 1674756000,
			1674759600, 1674763200, 1674766800, 1674770400, 1674774000, 1674777600,
			1674781200, 1674784800, 1674788400, 1674792000, 1674795600, 1674799200,
			1674802800, 1674806400, 1674810000, 1674813600, 1674817200, 1674820800,
			1674824400, 1674828000, 1674831600, 1674835200, 1674838800, 1674842400,
			1674846000, 1674849600, 1674853200, 1674856800, 1674860400, 1674864000,
			1674867600, 1674871200, 1674874800, 1674878400, 1674882000, 1674885600,
			1674889200, 1674892800, 1674896400, 1674900000, 1674903600, 1674907200,
			1674910800, 1674914400, 1674918000, 1674921600, 1674925200, 1674928800,
			1674932400, 1674936000, 1674939600, 1674943200, 1674946800, 1674950400,
			1674954000, 1674957600, 1674961200, 1674964800, 1674968400, 1674972000,
			1674975600, 1674979200, 1674982800, 1674986400, 1674990000, 1674993600,
			1674997200, 1675000800, 1675004400, 1675008000, 1675011600, 1675015200,
			1675018800, 1675022400, 1675026000, 1675029600, 1675033200, 1675036800,
			1675040400, 1675044000, 1675047600, 1675051200, 1675054800, 1675058400,
			1675062000, 1675065600, 1675069200, 1675072800, 1675076400, 1675080000,
			1675083600, 1675087200, 1675090800, 1675094400, 1675098000, 1675101600,
			1675105200, 1675108800, 1675112400, 1675116000, 1675119600, 1675123200,
			1675126800, 1675130400, 1675134000, 1675137600, 1675141200, 1675144800,
			1675148400, 1675152000, 1675155600, 1675159200, 1675162800, 1675166400,
			1675170000, 1675173600, 1675177200, 1675180800, 1675184400, 1675188000,
			1675191600, 1675195200, 1675198800, 1675202400, 1675206000, 1675209600,
			1675213200, 1675216800, 1675220400, 1675224000, 1675227600, 1675231200,
			1675234800, 1675238400, 1675242000, 1675245600, 1675249200, 1675252800,
			1675256400, 1675260000, 1675263600, 1675267200, 1675270800, 1675274400,
		],
		temperature_2m: [
			24, 23.5, 23.3, 23.2, 23.1, 22.2, 21.8, 22.3, 25.1, 27.3, 28, 28.8, 29.4,
			29.8, 29.6, 29.1, 28.2, 26.9, 25.7, 25, 24.4, 23.8, 23.4, 23.4, 23.2, 22.9,
			22.4, 21.7, 21, 20.8, 20.8, 21.6, 24, 26.4, 27.9, 28.4, 28.7, 28.7, 28.7,
			28.7, 27.9, 26.6, 25.3, 24.7, 24.2, 23.9, 23.5, 23.1, 22.9, 22.8, 22.4, 22.1,
			21.8, 21.4, 21, 21.6, 23.8, 26.4, 27.9, 28.8, 29.2, 29.3, 29.1, 28.8, 28.1,
			27.1, 25.9, 25.1, 24.4, 23.8, 23.3, 22.9, 22.6, 22.4, 22.7, 22.8, 22.9, 22.9,
			22.9, 23.5, 25.6, 27.4, 28.1, 28.8, 29.5, 30, 29.9, 29.3, 28.5, 27.6, 26.9,
			26.3, 25.5, 25.2, 25.1, 24.9, 24.7, 24.5, 24.2, 24, 23.8, 23.6, 23.7, 23.9,
			24.3, 24.9, 25.6, 26.4, 26.6, 26.7, 26.7, 26.7, 26.6, 26.3, 25.8, 25.1, 24.3,
			23.9, 23.6, 23.4, 23.3, 23.3, 23.3, 23.2, 23, 23, 23.3, 23.9, 24.8, 25.7,
			26.9, 28, 29.1, 29.2, 29.1, 28.6, 28, 27, 26.2, 25.5, 24.6, 24.2, 23.9, 23.6,
			23.4, 23.2, 22.9, 22.7, 22.4, 22.4, 22.8, 23.4, 24.6, 26.1, 27.9, 29.7, 30.2,
			30.1, 29.7, 29.1, 28.2, 27, 26.3, 25.7, 24.9, 24.4, 24, 23.5,
		],
		apparent_temperature: [
			27.3, 26.8, 26.5, 26.2, 26, 25.5, 25.1, 25.8, 28.2, 29.3, 29.7, 31.3, 31.8,
			32.3, 31.7, 30.4, 29.6, 28.3, 27.5, 27.4, 27.2, 26.8, 26.5, 26.5, 26.2, 25.9,
			25.4, 24.7, 23.8, 23.7, 23.6, 24.3, 26.6, 28.6, 29.6, 29.8, 30.1, 30.3, 30.1,
			29.9, 29.3, 28.3, 27.5, 27.3, 27, 26.8, 26.4, 26.1, 25.8, 25.7, 25.2, 25.2,
			24.9, 24.6, 24.1, 24.6, 26.9, 28.6, 29.7, 31.1, 31.7, 31.8, 31.1, 30.3, 29.3,
			28.3, 27.9, 27.6, 27.3, 27.1, 26.8, 26.5, 26.2, 26, 26.2, 26.4, 26.6, 26.5,
			26.3, 27.1, 29, 30, 30.3, 31.5, 32.5, 32.9, 32.4, 31.1, 30.1, 29.2, 29.2,
			29.5, 29.5, 29.3, 29.2, 28.9, 28.8, 28.8, 28.7, 28.7, 28.5, 28.3, 28.3, 28.5,
			28.9, 29.4, 30.1, 30.5, 30.7, 30.6, 30.4, 30.2, 29.8, 29.4, 29.2, 29, 28.6,
			28.2, 27.9, 27.5, 27.5, 27.6, 27.6, 27.5, 27.2, 27.2, 27.6, 28.1, 29, 29.6,
			30.2, 30.7, 32, 32.2, 31.9, 31.1, 30.6, 29.8, 29.2, 28.7, 28.2, 27.9, 27.8,
			27.8, 27.5, 27.3, 26.9, 26.6, 26.3, 26.3, 26.6, 27.3, 28.5, 29.8, 31.1, 32.5,
			33, 32.9, 32.3, 31, 30.2, 29.3, 29, 28.5, 28.2, 28, 27.9, 27.6,
		],
		weathercode: [
			2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 2,
			2, 1, 3, 3, 3, 2, 2, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,
			2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 2, 1, 1, 1, 0, 1, 1, 1, 1, 2, 2, 80,
			3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 2, 2, 3, 2, 2, 2, 2, 2, 2, 3, 3, 3, 80, 80, 80,
			80, 80, 80, 80, 80, 80, 80, 80, 80, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 3, 3,
			3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2,
			2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
		],
	},
	daily_units: {
		time: "unixtime",
		weathercode: "wmo code",
		temperature_2m_max: "°C",
		temperature_2m_min: "°C",
		apparent_temperature_max: "°C",
		sunrise: "unixtime",
		sunset: "unixtime",
	},
	daily: {
		time: [
			1674673200, 1674759600, 1674846000, 1674932400, 1675018800, 1675105200,
			1675191600,
		],
		weathercode: [3, 3, 2, 80, 80, 3, 3],
		temperature_2m_max: [29.8, 28.7, 29.3, 30, 26.7, 29.2, 30.2],
		temperature_2m_min: [21.8, 20.8, 21, 22.4, 23.4, 23, 22.4],
		apparent_temperature_max: [32.3, 30.3, 31.8, 32.9, 30.7, 32.2, 33],
		sunrise: [
			1674695080, 1674781475, 1674867871, 1674954267, 1675040662, 1675127055,
			1675213445,
		],
		sunset: [
			1674736684, 1674823111, 1674909538, 1674995965, 1675082393, 1675168818,
			1675255243,
		],
	},
};

// a hook which works same as state but also stores the value in local storage
// props: key : key which you want to pass in setting local storage
//              use signIndata for storing data state which is in signIn page
//        initialValue : initial value which you want to set (same as useState)
const useLocalStorageState = (key: string, initialValue: any) => {
	const [value, setValue] = useState(() => {
		return getSavedValue(key, initialValue);
	});

	useEffect(() => {
		localStorage.setItem(key, JSON.stringify(value));
	}, [value]);

	return [value, setValue];
};

const getSavedValue = (key: string, initialValue: any) => {
	const savedValue = JSON.parse(
		localStorage.getItem(key) || JSON.stringify(FAKERES)
	);
	if (savedValue) return savedValue;
	if (initialValue instanceof Function) return initialValue();
	return initialValue;
};

export default useLocalStorageState;
